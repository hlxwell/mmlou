<div id="content">
  <div id="headTitle">
    <h1><%=l("userRegister_label_title")%></h1>
  </div>
  <div class="clear">
  </div>
  <div>
    <div id="container">
      <div class="thin">
        <dl class="hField">
          <% if @result == true %>					
            <script>
              alert("<%= @alertMessage %>");
                location = "/user/login";							
            </script>
          <% elsif @result == false %>
            <dd>
              <div class="Problem" id="successMessages">	
                <%=@alertMessage %><br>
                <%= error_message_on(:user,:username) %>
                <%= error_message_on(:user,:password) %>
                <%= error_message_on(:user,:email) %>
              </div>
            </dd>
          <% end %>
        </dl>
        
<%= form_tag(:controller=>:user,:action => :register) %>
        <dl class="hField">
          <dt>
            <label for="user_username">
              <%=l("register_label_username")%>
            </label>
          </dt>
          <dd>
            <%=text_field("user","username",:size=>50,:maxlength=>20,:class=>"txt domain") %>
          </dd>
          <dt>
            &nbsp;
          </dt>
          <dd>
            <%=l("register_label_usernameRule")%>
          </dd>
          <dt>
            <label for="user_email">
              <%=l("register_label_email")%>
            </label>
          </dt>
          <dd>
            <%=text_field("user","email",:size=>30,:maxlength=>100,:class=>"txt email") %>
          </dd>
          <dt>
            &nbsp;
          </dt>
          <dd>
            <%=l("register_label_emailRule")%>
          </dd>
          <dt>
            <label for="user_password">
              <%=l("register_label_password")%>
            </label>
          </dt>          
          <dd>
            <%=password_field("user","password",:size=>20,:maxlength=>20,:class=>"txt password") %>
          </dd>
          <dt>
            &nbsp;
          </dt>
          <dd>
            <%=l("register_label_passwordRule")%>
          </dd>
          <dt>
            <label for="user_confirmPassword">
              <%=l("register_label_passwordConfirm")%>
            </label>
          </dt>
          <dd>
            <%=password_field("user","password_confirmation",:size=>20,:maxlength=>20,:class=>"txt password") %>
          </dd>
		  <br>
          <dt>
            &nbsp;
          </dt>
          <dd>
            Before you sign up, please read the <br>
            <a href="/about/terms" target="_blank">Terms</a> and sure you accept it.
          </dd>
		  
          <dt>
            &nbsp;
          </dt>
          <dd>
            在注册之前，请先阅读我们<a href="/about/terms" target="_blank">用户服务协议</a>
            <br>确保您理解并同意我们的服务条款.
          </dd>
        </dl>
        <dl class="hField">
          <dt>
            &nbsp;
          </dt>
          <dd class="submit">
            <input id="submit" type="submit" value="<%=l("register_button_submit")%>" class="Btn"/>
            <span class="cancel"><a href="/user/home"><%=l("register_link_tour")%></a></span>
          </dd>
        </dl>							
        </form>			
      </div>
    </div>
    <div class="clear">
    </div>
  </div>
</div>
